

<section>
    <div class="container">
        <div class="row">
            <div
                class="col-md-8 mx-auto text-center">
                <!-- Content -->
                <p class="text-center">Use this interface to add a new Course to the portal. Once you are done adding the item it will be reviewed for quality. If approved, your course will appear for sale and you will be informed by email that your course has been accepted.</p>
            </div>
        </div>

        <div class="card bg-transparent border rounded-3 mb-5">
            <div id="stepper" class="bs-stepper stepper-outline">
                <!-- Card header -->
                <div class="card-header bg-light border-bottom px-lg-5">
                    <!-- Step Buttons START -->
                    <div class="bs-stepper-header" role="tablist">
                        <!-- Step 1 -->
                        <div class="step" data-target="#step-1">
                            <div class="d-grid text-center align-items-center">
                                <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger1" aria-controls="step-1">
                                    <span class="bs-stepper-circle">1</span>
                                </button>
                                <h6 class="bs-stepper-label d-none d-md-block">Course details</h6>
                            </div>
                        </div>
                        <div class="line"></div>

                        <!-- Step 2 -->
                        <div class="step" data-target="#step-2">
                            <div class="d-grid text-center align-items-center">
                                <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger2" aria-controls="step-2">
                                    <span class="bs-stepper-circle">2</span>
                                </button>
                                <h6 class="bs-stepper-label d-none d-md-block">Course media</h6>
                            </div>
                        </div>
                        <div class="line"></div>

                        <!-- Step 3 -->
                        <div class="step" data-target="#step-4">
                            <div class="d-grid text-center align-items-center">
                                <button type="button" class="btn btn-link step-trigger mb-0" role="tab" id="steppertrigger4" aria-controls="step-4">
                                    <span class="bs-stepper-circle">4</span>
                                </button>
                                <h6 class="bs-stepper-label d-none d-md-block">Additional information</h6>
                            </div>
                        </div>
                    </div>
                    <!-- Step Buttons END -->
                </div>

                <!-- Card body START -->
                <div class="card-body">
                    <!-- Step content START -->
                    <div class="bs-stepper-content">
                        {{ form_start(form) }}

                        <!-- Step 1 content START -->
                        <div id="step-1" role="tabpanel" class="content fade" aria-labelledby="steppertrigger1">
                            <!-- Title -->
                            <h4>Course details</h4>

                            <hr>
                            <!-- Divider -->

                            <!-- Basic information START -->
                                <div class="row g-4"> <!-- Course title -->
                                <div class="col-12">
                                    {{ form_row(form.intitule) }}
                                </div>

                                <!-- Short description -->
                                <div class="col-12">
                                    {{ form_row(form.description) }}
                                </div>

                                <!-- Course category -->
                                <div class="col-md-6">
                                    {{ form_row(form.categorie) }}
                                </div>

                                <!-- Course level -->
                                <div class="col-md-6">
                                    {{ form_row(form.niveauDifficulte) }}
                                </div>

                                <!-- Course skill level -->
                                <div class="col-md-5">
                                    {{ form_row(form.skillLevel) }}
                                </div>

                                <!-- Course classes -->
                                <div class="col-md-7">
                                    {{ form_row(form.classe) }}
                                </div>

                                <!-- Language -->
                                <div class="col-md-6">
                                    {{ form_row(form.language) }}
                                </div>

                                <!-- Switch -->
                                <div class="col-md-6 d-flex align-items-center justify-content-start mt-5">
                                    <div class="form-check form-switch form-check-md">
                                        {{ form_row(form.isFree) }}
                                    </div>
                                </div>

                                <!-- Course price -->
                                <div class="col-md-4">
                                    {{ form_row(form.montantAbonnement) }}
                                </div>

                                <!-- Course time -->
                                <div class="col-md-4">
                                    {{ form_row(form.dureeApprentissage) }}
                                </div>

                                <!-- Total lecture -->
                                <div class="col-md-4">
                                    {{ form_row(form.numberOfLessons) }}
                                </div>

                                <!-- Payment Metho -->
                                <div class="col-12">
                                    {{ form_row(form.paymentMethods) }}
                                </div>

                                <!-- Course description -->
                                <div class="col-12">
                                    {{ form_row(form.content) }}
                                </div>

                                <!-- Step 1 button -->
                                <div class="d-flex justify-content-end mt-3">
                                    <button type="button" class="btn btn-primary next-btn mb-0">Next</button>
                                </div>
                            </div>
                            <!-- Basic information START -->
                        </div>
                        <!-- Step 1 content END -->

                        <!-- Step 2 content START -->
                        <div id="step-2" role="tabpanel" class="content fade" aria-labelledby="steppertrigger2">
                            <!-- Title -->
                            <h4>Course media</h4>

                            <hr>
                            <!-- Divider -->

                            <div
                                class="row">
                                <!-- Upload image START -->
                                <div class="col-12">
                                    <div
                                        class="text-center justify-content-center align-items-center p-4 p-sm-5 border border-2 border-dashed position-relative rounded-3">
                                        <!-- Image -->
                                        {% if cours.media is null %}
                                            <img src="{{ asset('assets/images/element/gallery.svg') }}" class="h-50px" alt="">
                                        {% else %}
                                            <img src="{{ asset('uploads/media/courses/' ~ cours.media.imageFile) }}" class="h-50px" alt="">
                                        {% endif %}

                                        <div>
                                            <h6 class="my-2">Upload course image here, or<a href="#!" class="text-primary">
                                                    Browse</a>
                                            </h6>
                                            <label style="cursor:pointer;">
                                                <span>
                                                    {{ form_widget(form.media.imageFileUpload) }}
                                                </span>
                                            </label>
                                            <p class="small mb-0 mt-2">
                                                <b>Note:</b>
                                                Only JPG, JPEG and PNG. Our suggested dimensions are 600px * 450px. Larger image will be cropped to 4:3 to fit our thumbnails/previews.</p>
                                        </div>
                                    </div>

                                </div>
                                <!-- Upload image END -->

                                <!-- Upload video START -->
                                <div class="col-12">
                                    <h5>Upload video</h5>
                                    <!-- Input -->
                                    <div class="col-12 mt-4 mb-5">
                                        {{ form_row(form.media.videoUrl) }}
                                    </div>
                                    <div class="position-relative my-4">
                                        <hr>
                                        <p class="small position-absolute top-50 start-50 translate-middle bg-body px-3 mb-0">Or</p>
                                    </div>

                                    <div class="col-12">
                                        <label class="form-label">Upload video</label>
                                        <div class="input-group mb-3">
                                            {{ form_row(form.media.mp4FileUpload) }}
                                        </div>
                                        <div class="input-group mb-3">
                                            {{ form_row(form.media.webMFileUpload) }}
                                        </div>
                                        <div class="input-group mb-3">
                                            {{ form_row(form.media.oggFileUpload) }}
                                        </div>
                                    </div>

                                </div>
                                <!-- Upload video END -->

                                <!-- Step 2 button -->
                                <div class="d-flex justify-content-between mt-3">
                                    <button type="button" class="btn btn-secondary prev-btn mb-0">Previous</button>
                                    <button type="button" class="btn btn-primary next-btn mb-0">Next</button>
                                </div>
                            </div>
                        </div>
                        <!-- Step 2 content END -->

                        <!-- Step 3 content START -->
                        <div id="step-4" role="tabpanel" class="content fade" aria-labelledby="steppertrigger4">
                            <!-- Title -->
                            <h4>Additional information</h4>

                            <hr>
                            <!-- Divider -->

                            <div class="row g-4">
                                <!-- Edit faq START -->
                                <div class="col-12">
                                    <div class="bg-light border rounded p-2 p-sm-4">
                                        <div class="d-sm-flex justify-content-sm-between align-items-center mb-3">
                                            <h5 class="mb-2 mb-sm-0">Upload FAQs</h5>
                                            <a href="#" class="btn btn-sm btn-primary-soft mb-0" data-bs-toggle="modal" data-bs-target="#addQuestion">
                                                <i class="bi bi-plus-circle me-2"></i>Add Question</a>
                                        </div>
                                        <div class="row g-4" id="faqs" data-index="{{ form.fAQs|length > 0 ? form.fAQs|last.vars.name + 1 : 0 }}" data-prototype="{{ form_widget(form.fAQs.vars.prototype)|e('html_attr') }}">
                                            {% set index = 0 %}
                                            {% for faq in cours.fAQs %}
                                                {{ include('instructor/courses/include/_faq_item.html.twig', {index: index, question: faq.question, answer: faq.answer}) }}
                                                {% set index = index + 1 %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <!-- Edit faq END -->

                                <!-- Tags START -->
                                <div class="col-12">
                                    <div class="bg-light border rounded p-4">
                                        <h5 class="mb-0">Tags</h5>
                                        <!-- Comment -->
                                        <div class="mt-3">
                                            {{ form_row(form.tags) }}
                                            <span class="small">Maximum of 14 keywords. Keywords should all be in lowercase and separated by commas. e.g. javascript, react, marketing</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Tags START -->

                                <!-- Step 4 button -->
                                <div class="d-md-flex justify-content-between align-items-start mt-4">
                                    <button type="button" class="btn btn-secondary prev-btn mb-2 mb-md-0">Previous</button>
                                    <div class="text-md-end">
                                        <button type="submit" class="btn btn-success mb-2 mb-sm-0">Submit a Course</button>
                                        <p class="mb-0 small mt-1">Once you click "Submit a Course", your course will be uploaded and marked as pending for review.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Step 3 content END -->
                        <div style="display: none;">
                            {{ form_rest(form) }}
                        </div>
                        {{ form_end(form) }}
                    </div>
                </div>
                <!-- Card body END -->
            </div>
        </div>
    </div>
</section>

